import{_ as V,Q as B,m as p,r as h,q as S,a as w,c as n,b as L,d as e,e as U,F as u,o as a,t as r,l as m,w as $,g as v,v as b,f as k}from"./app-0b8657a5.js";const q={class:"IndexBands"},I={class:"band-show"},N={key:0,class:"alert alert-danger"},T={key:1},A={class:"members-list"},F={class:"member-name"},H={class:"member-role"},P={class:"events-list"},j={key:0,class:"create-list"},G={class:"form-group"},O={class:"form-group"},Q={class:"form-group"},z={class:"lists-list"},J=["onClick"],K={key:0},R={__name:"Show copy",props:{band:{type:Object,required:!0}},setup(l){const d=l,_=B(),y=p(()=>{var o;return((o=_.props.flash)==null?void 0:o.error)||null}),i=h({title:"",date:"",description:""}),f=h([]),x=p(()=>d.band.members.some(o=>o.role==="admin")),D=p(()=>d.band.members.some(o=>o.role==="editor")),C=async()=>{try{await router.post(`/bands/${d.band.id}/lists`,i.value),i.value={title:"",date:"",description:""},g()}catch(o){console.error("Erro ao criar lista:",o)}},g=async()=>{try{const o=await router.get(`/bands/${d.band.id}/lists`);f.value=o.props.lists}catch(o){console.error("Erro ao carregar listas:",o)}},E=o=>{router.visit(`/bands/${d.band.id}/lists/${o}`)};return S(()=>{const o=_.props.auth.user;d.band.members.some(c=>c.user_id===o.id)||console.log("Usuário não tem permissão para ver esta banda"),g()}),(o,t)=>{const c=w("AppHead"),M=w("LayoutIndexPages");return a(),n(u,null,[L(c,{title:"Bandas e Listas de Músicas"}),e("div",q,[L(M,null,{default:U(()=>[e("div",I,[y.value?(a(),n("div",N,r(y.value),1)):(a(),n("div",T,[e("h1",null,r(l.band.name),1),e("p",null,r(l.band.description),1),e("p",null,"Gênero: "+r(l.band.genre),1),t[8]||(t[8]=e("h2",null,"Membros",-1)),e("div",A,[(a(!0),n(u,null,m(l.band.members,s=>(a(),n("div",{key:s.id,class:"member-item"},[e("span",F,r(s.user.name),1),e("span",H,r(s.role),1)]))),128))]),t[9]||(t[9]=e("h2",null,"Eventos",-1)),e("div",P,[(a(!0),n(u,null,m(l.band.events,s=>(a(),n("div",{key:s.id,class:"event-item"},[e("h3",null,r(s.name),1),e("p",null,"Data: "+r(s.date),1)]))),128))]),t[10]||(t[10]=e("h2",null,"Listas de Eventos",-1)),x.value||D.value?(a(),n("div",j,[t[7]||(t[7]=e("h3",null,"Criar Nova Lista",-1)),e("form",{onSubmit:$(C,["prevent"])},[e("div",G,[t[3]||(t[3]=e("label",{for:"listTitle"},"Título da Lista",-1)),v(e("input",{type:"text",id:"listTitle","onUpdate:modelValue":t[0]||(t[0]=s=>i.value.title=s),required:""},null,512),[[b,i.value.title]])]),e("div",O,[t[4]||(t[4]=e("label",{for:"listDate"},"Data do Evento",-1)),v(e("input",{type:"date",id:"listDate","onUpdate:modelValue":t[1]||(t[1]=s=>i.value.date=s),required:""},null,512),[[b,i.value.date]])]),e("div",Q,[t[5]||(t[5]=e("label",{for:"listDescription"},"Descrição (opcional)",-1)),v(e("textarea",{id:"listDescription","onUpdate:modelValue":t[2]||(t[2]=s=>i.value.description=s)},null,512),[[b,i.value.description]])]),t[6]||(t[6]=e("button",{type:"submit",class:"btn-create"},"Criar Lista",-1))],32)])):k("",!0),e("div",z,[(a(!0),n(u,null,m(f.value,s=>(a(),n("div",{key:s.id,class:"list-item",onClick:W=>E(s.id)},[e("h3",null,r(s.title),1),e("p",null,"Data: "+r(s.date),1),s.description?(a(),n("p",K,"Descrição: "+r(s.description),1)):k("",!0)],8,J))),128))])]))])]),_:1})])],64)}}},Y=V(R,[["__scopeId","data-v-5a3f2d3a"]]);export{Y as default};
