import{_ as q,r as y,m as N,a as F,c as l,b as L,d as e,e as B,F as m,o as n,l as f,n as z,t as i,f as _}from"./app-76e40468.js";const E={class:"indexpage"},H={class:"player-layout"},U={class:"player-sidebar"},j={class:"list-group"},D=["onClick"],M={key:0,class:"list-group-item text-muted"},R={class:"queue-card mt-4"},T={key:0,class:"list-group"},G={key:1,class:"text-muted"},J={class:"player-main"},K={class:"player-now"},O={class:"text-muted"},Q={class:"player-controls"},W={key:0,class:"mt-3"},X=["href"],Y={key:1,class:"mt-3"},Z=["src"],ee={key:2,class:"video-embed mt-3"},te=["src"],se={class:"player-list mt-4"},le={key:0,class:"list-group"},ne={class:"d-flex justify-content-between align-items-center"},oe={class:"text-muted"},ae={class:"song-actions"},ie=["onClick"],ue=["onClick"],ce={key:1,class:"text-muted"},re={key:0,class:"mini-player"},de={class:"text-muted"},ve={class:"mini-actions"},_e={__name:"indexPlayer",props:{playlists:{type:Array,default:()=>[]},songs:{type:Array,default:()=>[]}},setup(h){const k=h,s=y(k.songs[0]||null),b=y(k.playlists[0]||null),v=y([]),u=y(!1),d=N(()=>{var t;return((t=b.value)==null?void 0:t.songs)??[]}),x=N(()=>{var o;const t=(o=s.value)==null?void 0:o.video_url;if(!t)return"";if(t.includes("youtube.com")||t.includes("youtu.be")){const r=typeof window>"u"?"http://localhost":window.location.origin,c=new URL(t,r);return`https://www.youtube.com/embed/${c.searchParams.get("v")||c.pathname.split("/").pop()}`}return""}),V=t=>{s.value=t,u.value=!0},$=t=>{t&&v.value.push(t)},C=()=>{if(v.value.length){s.value=v.value.shift(),u.value=!0;return}const t=d.value;if(!t.length||!s.value)return;const o=t.findIndex(c=>c.id===s.value.id),r=o===-1?0:(o+1)%t.length;s.value=t[r],u.value=!0},w=()=>{const t=d.value;if(!t.length||!s.value)return;const o=t.findIndex(c=>c.id===s.value.id),r=o<=0?t.length-1:o-1;s.value=t[r],u.value=!0},P=()=>{!s.value&&d.value.length&&(s.value=d.value[0]),u.value=!u.value};return(t,o)=>{const r=F("AppHead"),c=F("LayoutIndexPlayer");return n(),l(m,null,[L(r,{title:"Player"}),e("div",E,[L(c,null,{default:B(()=>{var g,I,S,A;return[e("div",H,[e("aside",U,[o[1]||(o[1]=e("h4",null,"Playlists",-1)),e("ul",j,[(n(!0),l(m,null,f(h.playlists,a=>{var p;return n(),l("li",{key:a.id,class:z(["list-group-item",{active:a.id===((p=b.value)==null?void 0:p.id)}]),onClick:pe=>b.value=a},i(a.name),11,D)}),128)),h.playlists.length?_("",!0):(n(),l("li",M," Nenhuma playlist disponível. "))]),e("div",R,[o[0]||(o[0]=e("h6",null,"Fila de reprodução",-1)),v.value.length?(n(),l("div",T,[(n(!0),l(m,null,f(v.value,a=>(n(),l("div",{key:a.id,class:"list-group-item"},i(a.title),1))),128))])):(n(),l("p",G,"Fila vazia."))])]),e("section",J,[e("div",K,[e("h2",null,i(((g=s.value)==null?void 0:g.title)||"Selecione uma música"),1),e("p",O,i((I=s.value)==null?void 0:I.artist),1),e("div",Q,[e("button",{class:"btn btn-outline-secondary",onClick:w},"⏮"),e("button",{class:"btn btn-primary",onClick:P},i(u.value?"⏸️":"▶️"),1),e("button",{class:"btn btn-outline-secondary",onClick:C},"⏭")]),(S=s.value)!=null&&S.video_url?(n(),l("div",W,[e("a",{class:"btn btn-link",href:s.value.video_url,target:"_blank",rel:"noreferrer"}," Abrir vídeo ",8,X)])):_("",!0),(A=s.value)!=null&&A.audio_url?(n(),l("div",Y,[e("audio",{src:s.value.audio_url,controls:""},null,8,Z)])):_("",!0),x.value?(n(),l("div",ee,[e("iframe",{src:x.value,title:"Vídeo",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""},null,8,te)])):_("",!0)]),e("div",se,[o[2]||(o[2]=e("h5",null,"Músicas da playlist",-1)),d.value.length?(n(),l("div",le,[(n(!0),l(m,null,f(d.value,a=>(n(),l("div",{key:a.id,class:"list-group-item"},[e("div",ne,[e("div",null,[e("strong",null,i(a.title),1),e("span",oe," — "+i(a.artist),1)]),e("div",ae,[e("button",{class:"btn btn-sm btn-outline-primary",onClick:p=>V(a)}," Tocar agora ",8,ie),e("button",{class:"btn btn-sm btn-outline-secondary",onClick:p=>$(a)}," Adicionar à fila ",8,ue)])])]))),128))])):(n(),l("p",ce,"Selecione uma playlist com músicas."))])])]),s.value?(n(),l("div",re,[e("div",null,[e("strong",null,i(s.value.title),1),e("span",de," — "+i(s.value.artist),1)]),e("div",ve,[e("button",{class:"btn btn-sm btn-outline-secondary",onClick:w},"⏮"),e("button",{class:"btn btn-sm btn-primary",onClick:P},i(u.value?"⏸️":"▶️"),1),e("button",{class:"btn btn-sm btn-outline-secondary",onClick:C},"⏭")])])):_("",!0)]}),_:1})])],64)}}},me=q(_e,[["__scopeId","data-v-e1f6855e"]]);export{me as default};
