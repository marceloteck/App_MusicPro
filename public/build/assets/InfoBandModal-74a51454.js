import{_ as C,Q as w,m as r,r as b,a as D,x as L,e as _,o as d,d as e,t as n,c as i,f as M,h as s,F as N,l as V,N as h}from"./app-0b8657a5.js";const E={class:"info-band-content"},F={class:"modal-header"},R={class:"modal-content"},T={key:0,class:"text-center p-4"},A={key:1},S={class:"tab-content",id:"bandTabContent"},j={class:"tab-pane fade show active",id:"info",role:"tabpanel"},q={class:"tab-pane fade",id:"members",role:"tabpanel"},z={class:"text-muted"},G={__name:"InfoBandModal",props:{band:{type:Object,required:!0}},setup(B,{expose:y}){const m=w(),c=B,o=r(()=>m.props.band),l=b(null);y({ExecuteInfoBandModal:()=>{l.value?l.value.openModal():console.error("Modal reference not found")}});const k=()=>{l.value&&l.value.closeModal()};b(!1);const p=r(()=>m.props.auth.user.id);b({title:"",date:"",description:""});const I=()=>{h.visit("/bands")},v=r(()=>{var a;return!((a=c.band)!=null&&a.members)||!p.value?null:c.band.members.find(t=>t.user_id===p.value)||null});r(()=>{var a;return((a=v.value)==null?void 0:a.role)==="admin"}),r(()=>{var a;return((a=v.value)==null?void 0:a.role)==="editor"});const f=a=>new Date(a).toLocaleDateString("pt-BR");return(a,t)=>{const x=D("LayoutModalMobile");return d(),L(x,{ref_key:"RefInfoBandModal",ref:l},{header:_(()=>t[0]||(t[0]=[e("h2",null,"Informações da Banda",-1)])),default:_(()=>{var g;return[e("div",E,[e("div",F,[e("h2",null,n((g=o.value)==null?void 0:g.name),1)]),e("div",R,[a.message?(d(),i("div",T,[e("h2",null,n(a.message),1),e("button",{class:"btn btn-primary mt-3",onClick:I},"Voltar para minhas bandas"),t[1]||(t[1]=e("img",{src:"/Assets/image/error/403.webp",alt:"Logo",width:"200",class:"mt-3"},null,-1))])):M("",!0),o.value?(d(),i("div",A,[t[9]||(t[9]=e("ul",{class:"nav nav-tabs nav-fill mb-3",id:"bandTabs",role:"tablist"},[e("li",{class:"nav-item",role:"presentation"},[e("button",{class:"nav-link active",id:"info-tab","data-bs-toggle":"tab","data-bs-target":"#info",type:"button",role:"tab"},"Informações")]),e("li",{class:"nav-item",role:"presentation"},[e("button",{class:"nav-link",id:"members-tab","data-bs-toggle":"tab","data-bs-target":"#members",type:"button",role:"tab"},"Membros")])],-1)),e("div",S,[e("div",j,[e("p",null,[t[2]||(t[2]=e("strong",null,"Gênero:",-1)),s(" "+n(o.value.genre),1)]),e("p",null,[t[3]||(t[3]=e("strong",null,"Membros:",-1)),s(" "+n(o.value.members.length),1)]),e("p",null,[t[4]||(t[4]=e("strong",null,"Criado em:",-1)),s(" "+n(f(o.value.created_at)),1)]),e("p",null,[t[5]||(t[5]=e("strong",null,"Atualizado em:",-1)),s(" "+n(f(o.value.updated_at)),1)]),e("p",null,[t[6]||(t[6]=e("strong",null,"Descrição:",-1)),t[7]||(t[7]=s()),t[8]||(t[8]=e("br",null,null,-1)),s(n(o.value.description),1)])]),e("div",q,[(d(!0),i(N,null,V(o.value.members,u=>(d(),i("div",{key:u.id,class:"mb-2 member-item"},[s(n(u.user.name)+" ",1),e("span",z,n(u.role),1)]))),128))])])])):M("",!0)]),e("div",{class:"modal-footer"},[e("button",{onClick:k,class:"btn-cancel"},"Fechar")])])]}),_:1},512)}}},U=C(G,[["__scopeId","data-v-0ca373af"]]);export{U as default};
